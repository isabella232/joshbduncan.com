{% extends "base.html" %}
{% block content %}
<article>
  <header>
    <h1>{{ post.title }}</h1>
    <div id="post-meta">
      By {{ post.author | default("Josh Duncan", true) }} •
      {% if post.updated %}
      <b>Updated</b> <time datetime="{{ post.updated.strftime('%Y-%m-%d') }}">{{ post.updated.strftime('%B %Y') }}</time>
      {% else %}
      <b>Published</b> <time datetime="{{ post.date.strftime('%Y-%m-%d') }}">{{ post.date.strftime('%B %Y') }}</time>
      {% endif %}
      • {{ (post.body|wordcount / 200)|round|int}} min read
    </div>
  </header>
  <div id="post-body">
    {{ post.html|safe }}
  </div>
  <div id="post-categorization">
    {% if post.meta["category"] %}
    <ul id="category" data-title="Category:">
      <li><a href="{{ url_for('category', category=post.category) }}">{{ post.category }}</a></li>
    </ul>
    {% endif %}
    {% if post.meta["tags"] %}
    <ul id="tags" data-title="Tags:">
      {% for tag in post.meta["tags"].split(", ") | sort %}
      <li><a href="{{ url_for('tagged', tag=tag) }}">{{ tag }}</a>{% if not loop.last %}, {% endif %}</li>
      {% endfor %}
    </ul>
    {% endif %}
  </div>
</article>
{% endblock content %}